
[core]
log_level=WARNING
#For remote "central" scheduler:
default-scheduler-port=8082
default-scheduler-host=localhost
#you can start a central scheduler with "luigid --port <port # from above>"
 
[scheduler]
#disable if we have retry_count failures in disable-window-seconds seconds
retry_count=0
disable-window-seconds=680400
#retry almost imediately if task isn't already disabled
retry_delay=1
#disable if task keeps failing for this many seconds
disable-hard-timeout=999999999

[worker]
keep_alive=true
wait_interval=15

#Per-task settings:
#set lists of hosts and ligands here
[Task_summary_aligned]
hosts=["BRD1"]
ligands=["l0"]

#number of independent repeats to run
n_repeats=5
#number of short simultaneous simulations used for equilibrating each repeat. Keep at 1.
n_sampling_sims=1
#Print a summary of the ligands already analysed and exit. Useful if you want an intermediate result while another copy of the the workflow is still running. Default=false
show_incomplete=False
#specify which SGE environment to submit job to. Default='*', which indicates any.
parallel_env=*


#apo protein
[Gather_Inputs_ApoP_folder]
#If you have an apo structure available, put it and the assosicated itp into
#data/proteins/<protein_name>/prot_apo.pdb and data/proteins/<protein_name>/prot_apo.itp
#If some residues are missing from the holo structure (eg. due to unresolved loops), the code will try to align the apo and holo structures on the rest.

#If nothing is specified, the holo structure will be used to simulate the apo state.

#no longer supported:
#prot_src_override=/full/path/to/apo_structure.pdb

#Uncomment the next line if you want this task to fail and not run things that depend on it. Useful if you only want to do part of the workflow. This works with any of the tasks below.

#debug_exit=True


#protein+ligand
[Sim_PL_EM]
n_cpu=2
runtime=24:00:00

[Sim_PL_NVT_posre]
n_cpu=4
runtime=24:00:00

[Sim_PL_NVT_posre_soft]
n_cpu=2
runtime=24:00:00

[Sim_PL_NPT]
n_cpu=4
runtime=24:00:00
#If task fails, will try to relaunch it this many times before giving up.
_retry_count=3

[Task_PL_TI_simArray]
n_cpu=1
runtime=24:00:00
#Need this fraction of TI runs to succeed before declaring the task as complete. Will attempt to rerun if too many have crashed. Successful TI runs will not be rerun. Useful for unstable systems. Default=1.0
target_success_ratio=0.9
_retry_count=3

#ligand in water
[Sim_WL_EM]
n_cpu=1
runtime=24:00:00

[Sim_WL_NVT]
n_cpu=1
runtime=24:00:00

[Sim_WL_NPT]
n_cpu=1
runtime=24:00:00
_retry_count=3

[Task_WL_TI_simArray]
n_cpu=1
runtime=24:00:00
_retry_count=3

#apo protein
[Sim_ApoP_EM]
n_cpu=2
runtime=24:00:00

[Sim_ApoP_NVT_posre]
n_cpu=4
runtime=24:00:00

[Sim_ApoP_NVT_posre_soft]
n_cpu=4
runtime=24:00:00

[Sim_ApoP_NPT]
n_cpu=4
runtime=24:00:00
_retry_count=3



#Minor tasks that can conceivably be run on the login node.
#Set "run_locally=true" to do so. Works on any task. Default=false
[Task_PL_align]
#Force the scheduler to run the task through the queue instead of the login node. Default=false
run_locally=false
n_cpu=1
runtime=02:00:00
#Wait this many seconds between check to see if task finished.
poll_time=60      

[Task_PL_gen_morphes]
run_locally=false
n_cpu=1
runtime=02:00:00
poll_time=60

[Task_PL_gen_restraints]
run_locally=false
n_cpu=1
runtime=01:00:00
#Temperature (K) assumed for constructing PMF. Please match value defined for of NPT simulations in mdp file.
T=298.0          
poll_time=60

[Task_PL_analysis_aligned]
run_locally=false
poll_time=60
#number of bins in the histogram. Plotting (and hence the task) fails if this is more than the number of transitions. Default: 10.
n_bins=10
